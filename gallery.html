<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Scarlett â€” Avatar & Outfit Gallery</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <!-- animation-mixer + movement helpers -->
  <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>

  <style>
    html, body { margin:0; height:100%; background:#0b0e14; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    #hud {
      position: fixed; left: 10px; right: 10px; top: 10px;
      display: flex; gap: 10px; flex-wrap: wrap; z-index: 10;
      pointer-events: auto;
    }
    .btn {
      background: rgba(20,24,34,.85);
      border: 1px solid rgba(255,255,255,.15);
      color: #fff;
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 14px;
      backdrop-filter: blur(6px);
    }
    .btn:active { transform: translateY(1px); }
    #log {
      position: fixed; left: 10px; right: 10px; top: 70px;
      max-height: 170px; overflow: auto; z-index: 10;
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 14px;
      padding: 10px;
      color: #e8f0ff;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
      white-space: pre-wrap;
    }
    #vrHint {
      position: fixed; right: 14px; bottom: 14px; z-index: 10;
      background: rgba(255,255,255,.9); color:#000;
      border-radius: 10px; padding: 8px 10px; font-weight: 700;
    }
    a-scene { height: 100%; width: 100%; }
  </style>
</head>
<body>

  <div id="hud">
    <button class="btn" id="btnNextMale">Next Male</button>
    <button class="btn" id="btnNextFemale">Next Female</button>
    <button class="btn" id="btnNextOutfit">Next Outfit</button>
    <button class="btn" id="btnWear">Wear Outfit</button>
    <button class="btn" id="btnReset">Reset</button>
  </div>
  <div id="log">[BOOT] Gallery loading...</div>
  <div id="vrHint">VR</div>

  <a-scene renderer="colorManagement:true; physicallyCorrectLights:true"
           background="color: #0b0e14">

    <!-- Lights -->
    <a-entity light="type:ambient; intensity: 0.55"></a-entity>
    <a-entity light="type:directional; intensity: 1.1" position="2 6 3"></a-entity>
    <a-entity light="type:point; intensity: 1.0; distance: 30" position="-3 3 -2"></a-entity>

    <!-- Ground -->
    <a-plane rotation="-90 0 0" width="50" height="50"
             material="color:#1b1f2a; roughness:1; metalness:0"
             shadow="receive:true"></a-plane>

    <!-- Pedestals -->
    <a-cylinder id="pedMale" position="-1.3 0.25 -2.8" radius="0.55" height="0.5" material="color:#2a2f3d"></a-cylinder>
    <a-cylinder id="pedFemale" position="1.3 0.25 -2.8" radius="0.55" height="0.5" material="color:#2a2f3d"></a-cylinder>

    <!-- Outfit stand (not counted as an avatar) -->
    <a-cylinder id="pedOutfit" position="0 0.25 -1.6" radius="0.4" height="0.35" material="color:#242a35"></a-cylinder>

    <!-- Display Avatars -->
    <a-entity id="maleDisplay" position="-1.3 0.5 -2.8" rotation="0 20 0" shadow="cast:true"></a-entity>
    <a-entity id="femaleDisplay" position="1.3 0.5 -2.8" rotation="0 -20 0" shadow="cast:true"></a-entity>

    <!-- Outfit model -->
    <a-entity id="outfitDisplay" position="0 0.55 -1.6" rotation="0 180 0" shadow="cast:true"></a-entity>

    <!-- Walking NPC (3rd avatar) -->
    <a-entity id="npcWalker" position="0 0 -5" rotation="0 0 0" shadow="cast:true"></a-entity>

    <!-- Camera rig -->
    <a-entity id="rig" position="0 1.6 0" movement-controls="speed:0.12">
      <a-camera wasd-controls="enabled:false" look-controls="pointerLockEnabled:false"></a-camera>
      <a-entity laser-controls="hand: left"></a-entity>
      <a-entity laser-controls="hand: right"></a-entity>
    </a-entity>

  </a-scene>

  <script type="module" src="js/gallery.js"></script>
</body>
</html>
